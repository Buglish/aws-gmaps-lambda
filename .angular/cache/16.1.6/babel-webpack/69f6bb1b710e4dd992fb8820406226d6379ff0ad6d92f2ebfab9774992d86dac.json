{"ast":null,"code":"import _asyncToGenerator from \"C:/Dev/Angular/Map/buglish/aws-gmaps-lambda/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../rest-api.service\";\nexport class MapComponent {\n  constructor(service) {\n    this.service = service;\n  }\n  ngOnInit() {\n    this.initMap();\n  }\n  initMap() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      let pins = Object.values([]);\n      const curLatlng = {\n        lat: -43.528,\n        lng: 172.601\n      };\n      const map = new google.maps.Map(document.getElementById(\"map\"), {\n        center: curLatlng,\n        zoom: 12\n      });\n      map.addListener(\"click\", mapsMouseEvent => {\n        console.log(mapsMouseEvent.latLng);\n        const marker = new google.maps.Marker({\n          position: mapsMouseEvent.latLng,\n          map,\n          title: JSON.stringify(mapsMouseEvent.latLng.toJSON(), null, 2)\n        });\n        //pins[pins.length] = mapsMouseEvent.latLng; //add object later in order to calculate distance\n        pins[pins.length] = JSON.stringify(mapsMouseEvent.latLng.toJSON(), null, 2);\n        console.log(_this.service.postMapPin(JSON.stringify(mapsMouseEvent.latLng.toJSON(), null, 2)));\n        console.log(\"--S--\");\n        for (var i = 0; i < pins.length; i++) {\n          console.log(pins[i]);\n        }\n        console.log(\"--E--\");\n      });\n    })();\n  }\n}\nMapComponent.ɵfac = function MapComponent_Factory(t) {\n  return new (t || MapComponent)(i0.ɵɵdirectiveInject(i1.RestAPIService));\n};\nMapComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: MapComponent,\n  selectors: [[\"app-map\"]],\n  decls: 5,\n  vars: 0,\n  consts: [[\"id\", \"map\", 2, \"width\", \"100%\", \"height\", \"400px\"]],\n  template: function MapComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"p\");\n      i0.ɵɵtext(1, \"Select location to store in DB\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(2, \"div\", 0);\n      i0.ɵɵelementStart(3, \"p\");\n      i0.ɵɵtext(4, \"reloading page will reset pins.\");\n      i0.ɵɵelementEnd();\n    }\n  },\n  styles: [\"map[_ngcontent-%COMP%] {\\n    height: 100%;\\n  }\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvbWFwL21hcC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksWUFBWTtFQUNkIiwic291cmNlc0NvbnRlbnQiOlsibWFwIHtcclxuICAgIGhlaWdodDogMTAwJTtcclxuICB9Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"names":["MapComponent","constructor","service","ngOnInit","initMap","_this","_asyncToGenerator","pins","Object","values","curLatlng","lat","lng","map","google","maps","Map","document","getElementById","center","zoom","addListener","mapsMouseEvent","console","log","latLng","marker","Marker","position","title","JSON","stringify","toJSON","length","postMapPin","i","i0","ɵɵdirectiveInject","i1","RestAPIService","selectors","decls","vars","consts","template","MapComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelement"],"sources":["C:\\Dev\\Angular\\Map\\buglish\\aws-gmaps-lambda\\src\\app\\map\\map.component.ts","C:\\Dev\\Angular\\Map\\buglish\\aws-gmaps-lambda\\src\\app\\map\\map.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { RestAPIService } from '../rest-api.service';\n\ndeclare const google: any;\ndeclare let pins: any;\n\n@Component({\n  selector: 'app-map',\n  templateUrl: './map.component.html',\n  styleUrls: ['./map.component.css']\n})\nexport class MapComponent implements OnInit {\n\n  constructor(private service: RestAPIService) { }\n  \n  ngOnInit() {\n    this.initMap();\n  }\n\n  async initMap(): Promise<void> {\n    let pins= Object.values([]);\n    const curLatlng = { lat: -43.528, lng: 172.601 };\n    const map = new google.maps.Map(document.getElementById(\"map\"), {         \n        center: curLatlng,\n        zoom: 12,\n      }\n    );\n\n  \n    map.addListener(\"click\", (mapsMouseEvent) => {\n  \n      console.log( mapsMouseEvent.latLng);\n        const marker = new google.maps.Marker({\n          position: mapsMouseEvent.latLng,\n          map,\n          title: JSON.stringify(mapsMouseEvent.latLng.toJSON(), null, 2),\n        });\n        //pins[pins.length] = mapsMouseEvent.latLng; //add object later in order to calculate distance\n        pins[pins.length] = JSON.stringify(mapsMouseEvent.latLng.toJSON(), null, 2);\n        console.log(this.service.postMapPin(JSON.stringify(mapsMouseEvent.latLng.toJSON(), null, 2)));\n\n        console.log(\"--S--\" );\n        for(var i=0;i<pins.length;i++){\n\n          console.log(pins[i] );\n\n        }\n        console.log(\"--E--\" );\n    });\n    \n  }\n\n\n}\n\n","<p>Select location to store in DB</p>\n<div id=\"map\" style=\"width: 100%; height: 400px;\"></div>\n<p>reloading page will reset pins.</p>\n"],"mappings":";;;AAWA,OAAM,MAAOA,YAAY;EAEvBC,YAAoBC,OAAuB;IAAvB,KAAAA,OAAO,GAAPA,OAAO;EAAoB;EAE/CC,QAAQA,CAAA;IACN,IAAI,CAACC,OAAO,EAAE;EAChB;EAEMA,OAAOA,CAAA;IAAA,IAAAC,KAAA;IAAA,OAAAC,iBAAA;MACX,IAAIC,IAAI,GAAEC,MAAM,CAACC,MAAM,CAAC,EAAE,CAAC;MAC3B,MAAMC,SAAS,GAAG;QAAEC,GAAG,EAAE,CAAC,MAAM;QAAEC,GAAG,EAAE;MAAO,CAAE;MAChD,MAAMC,GAAG,GAAG,IAAIC,MAAM,CAACC,IAAI,CAACC,GAAG,CAACC,QAAQ,CAACC,cAAc,CAAC,KAAK,CAAC,EAAE;QAC5DC,MAAM,EAAET,SAAS;QACjBU,IAAI,EAAE;OACP,CACF;MAGDP,GAAG,CAACQ,WAAW,CAAC,OAAO,EAAGC,cAAc,IAAI;QAE1CC,OAAO,CAACC,GAAG,CAAEF,cAAc,CAACG,MAAM,CAAC;QACjC,MAAMC,MAAM,GAAG,IAAIZ,MAAM,CAACC,IAAI,CAACY,MAAM,CAAC;UACpCC,QAAQ,EAAEN,cAAc,CAACG,MAAM;UAC/BZ,GAAG;UACHgB,KAAK,EAAEC,IAAI,CAACC,SAAS,CAACT,cAAc,CAACG,MAAM,CAACO,MAAM,EAAE,EAAE,IAAI,EAAE,CAAC;SAC9D,CAAC;QACF;QACAzB,IAAI,CAACA,IAAI,CAAC0B,MAAM,CAAC,GAAGH,IAAI,CAACC,SAAS,CAACT,cAAc,CAACG,MAAM,CAACO,MAAM,EAAE,EAAE,IAAI,EAAE,CAAC,CAAC;QAC3ET,OAAO,CAACC,GAAG,CAACnB,KAAI,CAACH,OAAO,CAACgC,UAAU,CAACJ,IAAI,CAACC,SAAS,CAACT,cAAc,CAACG,MAAM,CAACO,MAAM,EAAE,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC;QAE7FT,OAAO,CAACC,GAAG,CAAC,OAAO,CAAE;QACrB,KAAI,IAAIW,CAAC,GAAC,CAAC,EAACA,CAAC,GAAC5B,IAAI,CAAC0B,MAAM,EAACE,CAAC,EAAE,EAAC;UAE5BZ,OAAO,CAACC,GAAG,CAACjB,IAAI,CAAC4B,CAAC,CAAC,CAAE;;QAGvBZ,OAAO,CAACC,GAAG,CAAC,OAAO,CAAE;MACzB,CAAC,CAAC;IAAC;EAEL;;AAvCWxB,YAAY,C;mBAAZA,YAAY,EAAAoC,EAAA,CAAAC,iBAAA,CAAAC,EAAA,CAAAC,cAAA;AAAA;AAAZvC,YAAY,C;QAAZA,YAAY;EAAAwC,SAAA;EAAAC,KAAA;EAAAC,IAAA;EAAAC,MAAA;EAAAC,QAAA,WAAAC,sBAAAC,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;MCXzBV,EAAA,CAAAY,cAAA,QAAG;MAAAZ,EAAA,CAAAa,MAAA,qCAA8B;MAAAb,EAAA,CAAAc,YAAA,EAAI;MACrCd,EAAA,CAAAe,SAAA,aAAwD;MACxDf,EAAA,CAAAY,cAAA,QAAG;MAAAZ,EAAA,CAAAa,MAAA,sCAA+B;MAAAb,EAAA,CAAAc,YAAA,EAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}