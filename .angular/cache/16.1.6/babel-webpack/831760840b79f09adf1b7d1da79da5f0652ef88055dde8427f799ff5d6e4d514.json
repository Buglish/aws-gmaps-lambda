{"ast":null,"code":"import _asyncToGenerator from \"C:/Dev/Angular/Map/MapTestAWS/aws-gmaps/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nexport class MapComponent {\n  ngOnInit() {\n    this.initMap();\n  }\n  initMap() {\n    return _asyncToGenerator(function* () {\n      const startLoc = {\n        lat: -43.528,\n        lng: 172.601\n      };\n      const map = new google.maps.Map(document.getElementById(\"map\"), {\n        center: startLoc,\n        zoom: 8\n      });\n      new ClickEventHandler(map, startLoc);\n    })();\n  }\n}\nMapComponent.ɵfac = function MapComponent_Factory(t) {\n  return new (t || MapComponent)();\n};\nMapComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: MapComponent,\n  selectors: [[\"app-map\"]],\n  decls: 5,\n  vars: 0,\n  consts: [[\"id\", \"map\", 2, \"width\", \"100%\", \"height\", \"400px\", 3, \"click\"]],\n  template: function MapComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"p\");\n      i0.ɵɵtext(1, \"Select location to store in DB\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"div\", 0);\n      i0.ɵɵlistener(\"click\", function MapComponent_Template_div_click_2_listener($event) {\n        return ctx.onPinLocation($event);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"p\");\n      i0.ɵɵtext(4, \"reloading page will reset pins.\");\n      i0.ɵɵelementEnd();\n    }\n  },\n  styles: [\"map[_ngcontent-%COMP%] {\\n    height: 100%;\\n  }\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvbWFwL21hcC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksWUFBWTtFQUNkIiwic291cmNlc0NvbnRlbnQiOlsibWFwIHtcclxuICAgIGhlaWdodDogMTAwJTtcclxuICB9Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});\nclass ClickEventHandler {\n  constructor(map, startLoc) {\n    this.startLoc = startLoc;\n    this.map = map;\n    this.directionsService = new google.maps.DirectionsService();\n    this.directionsRenderer = new google.maps.DirectionsRenderer();\n    this.directionsRenderer.setMap(map);\n    this.placesService = new google.maps.places.PlacesService(map);\n    this.infowindow = new google.maps.InfoWindow();\n    this.infowindowContent = document.getElementById(\"infowindow-content\");\n    this.infowindow.setContent(this.infowindowContent);\n    // Listen for clicks on the map.\n    this.map.addListener(\"click\", this.onPinLocation.bind(this));\n  }\n}\nonPinLocation(event, google.maps.MapMouseEvent | google.maps.IconMouseEvent);\n{\n  console.log(\"You clicked on: \" + event.latLng);\n  // If the event has a placeId, use it.\n  if (isIconMouseEvent(event)) {\n    console.log(\"You clicked on place:\" + event.placeId);\n    // Calling e.stop() on the event prevents the default info window from\n    // showing.\n    // If you call stop here when there is no placeId you will prevent some\n    // other map click event handlers from receiving the event.\n    event.stop();\n    if (event.placeId) {\n      this.calculateAndDisplayRoute(event.placeId);\n      this.getPlaceInformation(event.placeId);\n    }\n  }\n}","map":{"version":3,"names":["MapComponent","ngOnInit","initMap","_asyncToGenerator","startLoc","lat","lng","map","google","maps","Map","document","getElementById","center","zoom","ClickEventHandler","selectors","decls","vars","consts","template","MapComponent_Template","rf","ctx","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","MapComponent_Template_div_click_2_listener","$event","onPinLocation","constructor","directionsService","DirectionsService","directionsRenderer","DirectionsRenderer","setMap","placesService","places","PlacesService","infowindow","InfoWindow","infowindowContent","setContent","addListener","bind","event","MapMouseEvent","IconMouseEvent","console","log","latLng","isIconMouseEvent","placeId","stop","calculateAndDisplayRoute","getPlaceInformation"],"sources":["C:\\Dev\\Angular\\Map\\MapTestAWS\\aws-gmaps\\src\\app\\map\\map.component.ts","C:\\Dev\\Angular\\Map\\MapTestAWS\\aws-gmaps\\src\\app\\map\\map.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\n\ndeclare const google: any;\n\n@Component({\n  selector: 'app-map',\n  templateUrl: './map.component.html',\n  styleUrls: ['./map.component.css']\n})\nexport class MapComponent implements OnInit {\n  ngOnInit() {\n    this.initMap();\n  }\n\n  async initMap(): Promise<void> {\n    const startLoc = { lat: -43.528, lng: 172.601 };\n    const map = new google.maps.Map(document.getElementById(\"map\"), {         \n        center: startLoc,\n        zoom: 8,\n      }\n    );\n    new ClickEventHandler(map, startLoc);\n  }\n\n  class ClickEventHandler {\n    startLoc: google.maps.LatLngLiteral;\n    map: google.maps.Map;\n    directionsService: google.maps.DirectionsService;\n    directionsRenderer: google.maps.DirectionsRenderer;\n    placesService: google.maps.places.PlacesService;\n    infowindow: google.maps.InfoWindow;\n    infowindowContent: HTMLElement;\n    constructor(map: google.maps.Map, startLoc: google.maps.LatLngLiteral) {\n      this.startLoc = startLoc;\n      this.map = map;\n      this.directionsService = new google.maps.DirectionsService();\n      this.directionsRenderer = new google.maps.DirectionsRenderer();\n      this.directionsRenderer.setMap(map);\n      this.placesService = new google.maps.places.PlacesService(map);\n      this.infowindow = new google.maps.InfoWindow();\n      this.infowindowContent = document.getElementById(\n        \"infowindow-content\"\n      ) as HTMLElement;\n      this.infowindow.setContent(this.infowindowContent);\n  \n      // Listen for clicks on the map.\n      this.map.addListener(\"click\", this.onPinLocation.bind(this));\n    }\n  }\n\n  onPinLocation(event: google.maps.MapMouseEvent | google.maps.IconMouseEvent) {\n    console.log(\"You clicked on: \" + event.latLng);\n\n    // If the event has a placeId, use it.\n    if (isIconMouseEvent(event)) {\n      console.log(\"You clicked on place:\" + event.placeId);\n\n      // Calling e.stop() on the event prevents the default info window from\n      // showing.\n      // If you call stop here when there is no placeId you will prevent some\n      // other map click event handlers from receiving the event.\n      event.stop();\n\n      if (event.placeId) {\n        this.calculateAndDisplayRoute(event.placeId);\n        this.getPlaceInformation(event.placeId);\n      }\n    }\n  }\n\n}\n","<p>Select location to store in DB</p>\n<div id=\"map\" style=\"width: 100%; height: 400px;\" (click)=\"onPinLocation($event)\"></div>\n<p>reloading page will reset pins.</p>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}