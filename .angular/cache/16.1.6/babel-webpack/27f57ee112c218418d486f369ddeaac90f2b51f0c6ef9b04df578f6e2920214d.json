{"ast":null,"code":"import _asyncToGenerator from \"C:/Dev/Angular/Map/buglish/aws-gmaps-lambda/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../rest-api.service\";\nexport let MapComponent = /*#__PURE__*/(() => {\n  class MapComponent {\n    constructor(service) {\n      this.service = service;\n    }\n    ngOnInit() {\n      this.initMap();\n    }\n    initMap() {\n      var _this = this;\n      return _asyncToGenerator(function* () {\n        let pins = Object.values([]);\n        const curLatlng = {\n          lat: -43.528,\n          lng: 172.601\n        };\n        const map = new google.maps.Map(document.getElementById(\"map\"), {\n          center: curLatlng,\n          zoom: 12\n        });\n        map.addListener(\"click\", mapsMouseEvent => {\n          console.log(mapsMouseEvent.latLng);\n          const marker = new google.maps.Marker({\n            position: mapsMouseEvent.latLng,\n            map,\n            title: JSON.stringify(mapsMouseEvent.latLng.toJSON(), null, 2)\n          });\n          //pins[pins.length] = mapsMouseEvent.latLng; //add object later in order to calculate distance\n          pins[pins.length] = JSON.stringify(mapsMouseEvent.latLng.toJSON(), null, 2);\n          _this.service.postMapPin(JSON.stringify(mapsMouseEvent.latLng.toJSON(), null, 2));\n          console.log(\"--S--\");\n          for (var i = 0; i < pins.length; i++) {\n            console.log(pins[i]);\n          }\n          console.log(\"--E--\");\n        });\n      })();\n    }\n  }\n  MapComponent.ɵfac = function MapComponent_Factory(t) {\n    return new (t || MapComponent)(i0.ɵɵdirectiveInject(i1.RestAPIService));\n  };\n  MapComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: MapComponent,\n    selectors: [[\"app-map\"]],\n    decls: 5,\n    vars: 0,\n    consts: [[\"id\", \"map\", 2, \"width\", \"100%\", \"height\", \"400px\"]],\n    template: function MapComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"p\");\n        i0.ɵɵtext(1, \"Select location to store in DB\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(2, \"div\", 0);\n        i0.ɵɵelementStart(3, \"p\");\n        i0.ɵɵtext(4, \"reloading page will reset pins.\");\n        i0.ɵɵelementEnd();\n      }\n    },\n    styles: [\"map[_ngcontent-%COMP%]{height:100%}\"]\n  });\n  return MapComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}